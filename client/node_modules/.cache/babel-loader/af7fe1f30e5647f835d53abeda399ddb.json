{"ast":null,"code":"var _jsxFileName = \"/Users/siyavashtorabi/general_assembly/sei/u/wek_7/p4/Aqua-Hunters/client/src/screens/SpecieCreate.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport \"./ProductCreate.css\";\nimport { getAllRegions } from \"../services/region\";\nimport { getAllEnvironments } from \"../services/environments\";\nimport { Redirect } from \"react-router-dom\";\nimport { postSpecie } from \"../services/species\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SpecieCreate = props => {\n  _s();\n\n  const [isCreated, setCreated] = useState(false);\n  const [regions, setRegions] = useState([]);\n  const [environments, setEnvironments] = useState([]);\n  const [specie, setSpecie] = useState({\n    name: \"\",\n    description: \"\",\n    img_url: \"\",\n    environment: \"\",\n    region: \"\"\n  });\n  useEffect(() => {\n    const fetchDropDowns = async () => {\n      const regions = await getAllRegions();\n      const environments = await getAllEnvironments();\n      setRegions(regions);\n      setEnvironments(environments);\n    };\n\n    fetchDropDowns();\n  }, []);\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setSpecie({ ...specie,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    let newSpecie = specie;\n\n    if (!specie.img_url) {\n      newSpecie = { ...newSpecie,\n        img_url: \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/1200px-No-Image-Placeholder.svg.png\"\n      };\n    }\n\n    const created = await postSpecie(newSpecie);\n    setCreated({\n      created\n    });\n  };\n\n  if (isCreated) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: `/species`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"flex space-y-6 flex-col justify-center items-center border-8 border-black-100 mb-52 bg-green-500\",\n      onSubmit: handleSubmit,\n      onChange: handleChange,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"mt-5 bg-green-200\",\n        placeholder: \"name\",\n        value: specie.name,\n        name: \"name\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"mt-5 bg-green-200\",\n        placeholder: \"Image Link\",\n        value: specie.img_url,\n        name: \"img_url\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"mt-5 bg-green-200\",\n        placeholder: \"description\",\n        value: specie.description,\n        name: \"description\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"region_id\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          default: true,\n          disabled: true,\n          hidden: true,\n          children: \"select the region\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), regions && regions.map(region => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: region.id,\n          children: region.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"environment_id\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          default: true,\n          disabled: true,\n          hidden: true,\n          children: \"select the environment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), environments && environments.map(environment => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: environment.id,\n          children: environment.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"create-button\",\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(SpecieCreate, \"PGYV5Va2rM6JMn+czg+AsG9Ilrg=\");\n\n_c = SpecieCreate;\nexport default SpecieCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"SpecieCreate\");","map":{"version":3,"sources":["/Users/siyavashtorabi/general_assembly/sei/u/wek_7/p4/Aqua-Hunters/client/src/screens/SpecieCreate.jsx"],"names":["useState","useEffect","getAllRegions","getAllEnvironments","Redirect","postSpecie","SpecieCreate","props","isCreated","setCreated","regions","setRegions","environments","setEnvironments","specie","setSpecie","name","description","img_url","environment","region","fetchDropDowns","handleChange","event","value","target","handleSubmit","preventDefault","newSpecie","created","map","id"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport \"./ProductCreate.css\"\nimport {getAllRegions} from \"../services/region\"\nimport {getAllEnvironments} from \"../services/environments\"\nimport { Redirect } from \"react-router-dom\";\nimport { postSpecie } from \"../services/species\";\n\nconst SpecieCreate = (props) => {\n  const [isCreated, setCreated] = useState(false); \n  const [regions, setRegions] = useState([])\n  const [environments, setEnvironments] = useState([])\n  const [specie, setSpecie] = useState({\n    name: \"\",\n    description: \"\",\n    img_url: \"\",\n    environment: \"\",\n    region: \"\"\n  });\n\n\n  useEffect(() => {\n    const fetchDropDowns= async () => {\n    \n      const regions = await getAllRegions();\n      const environments = await getAllEnvironments();\n      setRegions(regions)\n      setEnvironments(environments)\n    };\n    fetchDropDowns();\n  }, []);\n\n\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setSpecie({\n      ...specie,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    let newSpecie= specie\n    if (!specie.img_url) {\n        newSpecie={\n        ...newSpecie,\n        img_url:\n          \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/1200px-No-Image-Placeholder.svg.png\",\n      };\n    }\n    const created = await postSpecie(newSpecie);\n    setCreated({ created });\n  };\n\n  if (isCreated) {\n    return <Redirect to={`/species`} />;\n  }\n  return (\n    <>\n      <form\n        className=\"flex space-y-6 flex-col justify-center items-center border-8 border-black-100 mb-52 bg-green-500\"\n        onSubmit={handleSubmit}\n        onChange={handleChange}\n      >\n        <input\n          className=\"mt-5 bg-green-200\"\n          placeholder=\"name\"\n          value={specie.name}\n          name=\"name\"\n          required\n        \n        />\n        <input\n          className=\"mt-5 bg-green-200\"\n          placeholder=\"Image Link\"\n          value={specie.img_url}\n          name=\"img_url\"\n        \n        />\n        <input\n          className=\"mt-5 bg-green-200\"\n          placeholder=\"description\"\n          value={specie.description}\n          name=\"description\"\n          required\n         \n        />\n        {/* <textarea\n          className=\"mt-5 bg-green-200\"\n          rows={10}\n          placeholder=\"environment\"\n          value={specie.environment.name}\n          name=\"environment\"\n          required\n          onChange={handleChange}\n        />\n        <textarea\n          className=\"mt-5 bg-green-200\"\n          rows={10}\n          placeholder=\"region\"\n          value={specie.region.name}\n          name=\"region\"\n          required\n          onChange={handleChange}\n        /> */}\n\n        <select name=\"region_id\">\n          <option default disabled hidden>select the region</option>\n          {regions && regions.map(region => (\n\n              <option value={region.id}>{region.name}</option>\n              \n            \n          ))}\n        </select>\n\n\n        <select name=\"environment_id\">\n          <option default disabled hidden>select the environment</option>\n          {environments && environments.map(environment=> (\n\n              <option value={environment.id}>{environment.name}</option>\n              \n            \n          ))}\n        </select>\n\n\n        <button type=\"submit\" className=\"create-button\">\n          Add\n        </button>\n      </form>\n      \n    </>\n  );\n};\n\nexport default SpecieCreate;"]},"metadata":{},"sourceType":"module"}